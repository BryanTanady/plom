<!--
    SPDX-License-Identifier: AGPL-3.0-or-later
    Copyright (C) 2024 Andrew Rechnitzer
  -->
{% load static %}
<div class="col text-center">
    <p>Paper {{ page_number }} page {{ page_number }} version {{ version }}</p>
    <img class="image border"
         src="{% url 'substitute_img' substitute_image_pk %} "
         style="height: 55vh" />
    {% if user_is_manager %}
        <div class="my-1">
            {% if kind == "IDPage" %}
                <img class="img-thumbnail"
                     style="width: 5%"
                     src="{% static 'fingers_in_gears.svg' %}" />
                <button class="btn btn-danger"
                        hx-post="{% url 'substitute_img_wrap' paper_number page_number %}"
                        hx-confirm="Replacing the ID page of a test should ONLY be done when you know the student's identity by other means - do you wish to proceed?">
                    replace ID Page
                </button>
                <img class="img-thumbnail"
                     style="width: 5%"
                     src="{% static 'fingers_in_gears.svg' %}" />
                <p class="my-1 alert alert-danger text-start">
                    Since this page contains the student ID and name, we strongly recommend that you do as much as you can to search for the original hard-copy of this page before replacing it. Even then, we recommend that you only replace this page when you know the student's identity by other means.
                </p>
            {% elif kind == "DNMPage" %}
                <button class="btn btn-info"
                        hx-post="{% url 'substitute_img_wrap' paper_number page_number %}"
                        hx-confirm="Replacing a do-not-mark page is relatively safe - do you wish to proceed?">
                    replace do-not-mark page
                </button>
                <p class="my-1 alert alert-info text-start">
                    Replacing any page is not something to be undertaken lightly, however, normally the contents of do-not-mark pages are not graded, so this should be relatively safe.
                </p>
            {% else %}
                <button class="btn btn-warning"
                        hx-post="{% url 'substitute_img_wrap' paper_number page_number %}"
                        hx-confirm="Replacing a page that contains student work should only be done when you cannot find the original hard-copy - do you wish to proceed?">
                    replace question-page
                </button>
                <p class="my-1 alert alert-warning text-start">
                    Since this is a page that normally contains student-work, we recommend that you search carefully for the original hard-copy of this page before replacing it.
                </p>
            {% endif %}
        {% endif %}
    </div>
</div>
